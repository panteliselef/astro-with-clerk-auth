---
import type { OrganizationSwitcherProps } from "@clerk/types";
type Props = OrganizationSwitcherProps

import type { AstroBuiltinProps } from 'astro';
import { OrganizationSwitcher as OrganizationSwitcherReact } from "astro-clerk-auth/client/react";
/**
 * Weird bug with Astro locals not being populated in top level layouts
 */
// import { $ssrState } from "astro-clerk-auth/stores";
// ts-expect-error TODO: fix this
// $ssrState.set(Astro.locals.auth());

const props = {
  ...Astro.props,
}
---

<OrganizationSwitcherReact
  client:load
  {...props}
/>
